<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>plangrade | API Docs</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","ruby","python"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <div style="text-align: center;">
        <a href="https://plangrade.com"><img style="height: 45px; width: 225px;" src="images/logo.png" /></a>
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://plangrade.com/oauth/applications'>Manage Your Applications</a></li>
            <li><a href='https://plangrade.com'>&copy; plangrade 2014</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1><h2 id='welcome'>Welcome</h2>
<blockquote>
<p>Use the tabs above to select the code that suits your needs. A <a href="https://github.com/topherreynoso/plangrade-ruby-client">sample client app</a> is available in the ruby environment. It demonstrates the authentication flow and accessing the API endpoints.</p>
</blockquote>

<p>This is the plangrade API documentation. You can use our API to access plangrade endpoints, allowing clients to retrieve, create, update, and destroy information on companies, plans, participants, compliance documents, and more.</p>

<p>Our API is organized around REST with JSON responses. Our API is designed to use HTTP response codes to indicate API success/errors. We allow you to interact with our API from a client-side web application. </p>

<p><aside class="notice">
JSON will be returned in all responses from the API.
</aside></p>
<h2 id='api-v1'>API v1</h2>
<p>Currently this is the only public version.</p>

<blockquote>
<p>You&rsquo;ll find sample code in this pane throughout these docs.</p>
</blockquote>

<p><strong>Base API Endpoint:</strong> <code class="prettyprint">https://plangrade.com/api/v1</code></p>

<p><aside class="success">
This entire API is <em>https only</em>.
</aside></p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>There is a gem available to facilitate authentication in a ruby environment: <a href="https://github.com/topherreynoso/omniauth-plangrade">omniauth-plangrade</a>. Please refer to the gem&rsquo;s documentation for full instructions.</p>

<p>Provide your Application key and secret as the following variables when you initialize your app.</p>
</blockquote>
<pre><code class="highlight ruby"><span class="c1"># set API keys</span>
<span class="no">ENV</span><span class="p">[</span><span class="s1">'PLANGRADE_CLIENT_ID'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"jhsafdiurwe989734kjo3485uihw5io"</span>
<span class="no">ENV</span><span class="p">[</span><span class="s1">'PLANGRADE_CLIENT_SECRET'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"uysadsir5wt6837i9kjo3485u46swfd"</span>
</code></pre>

<p>To interact with the API, you will need API keys. <a href="https://plangrade.com/oauth/applications">Create a consumer application</a> in order to get an Application <code class="prettyprint">key</code> and <code class="prettyprint">secret</code>.</p>

<p>Some API endpoints only require your application <code class="prettyprint">key</code> and <code class="prettyprint">secret</code> (for instance, <a href="#create-new-user-account">creating a user</a>), but most require an OAuth <code class="prettyprint">access_token</code>.</p>

<p>For endpoints that require an OAuth access token, it should be included in the Authorization HTTP header like so:</p>

<p><code class="prettyprint">Authorization: Bearer &lt;T0K3N_H3R3&gt;</code></p>

<p><aside class="warning">
Be sure to replace <code class="prettyprint">&lt;T0K3N_H3R3&gt;</code> with an OAuth <code class="prettyprint">access_token</code>.
</aside> </p>
<h2 id='oauth2'>OAuth2</h2>
<blockquote>
<p>Set up your application to properly support callback routes.</p>
</blockquote>
<pre><code class="highlight ruby"><span class="c1"># For omniauth-plangrade users, here's an example</span>
<span class="c1"># Add this to your config/routes.rb</span>
<span class="n">get</span>   <span class="s1">'/auth/:provider/callback'</span> <span class="o">=&gt;</span> <span class="s1">'static_pages#redirect'</span>

<span class="c1"># Add this to config/initializers/omniauth.rb</span>
<span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">config</span><span class="p">.</span><span class="nf">middleware</span><span class="p">.</span><span class="nf">use</span> <span class="no">OmniAuth</span><span class="o">::</span><span class="no">Builder</span> <span class="k">do</span>
  <span class="n">provider</span> <span class="p">:</span><span class="n">plangrade</span><span class="p">,</span> <span class="no">ENV</span><span class="p">[</span><span class="s1">'PLANGRADE_CLIENT_ID'</span><span class="p">],</span> <span class="no">ENV</span><span class="p">[</span><span class="s1">'PLANGRADE_CLIENT_SECRET'</span><span class="p">]</span>
<span class="k">end</span>
</code></pre>

<blockquote>
<p>Now just make sure that your <a href="https://plangrade.com/oauth/applications">plangrade client application</a> has the proper Redirect uri specified (e.g. https://mysite.com/auth/plangrade/callback)</p>
</blockquote>

<p>plangrade&rsquo;s API lets you interact with a user&rsquo;s plangrade account and act on their behalf to view, create, update, and destroy things like companies, plans, and participants. To do so, your application first needs to request authorization from users.</p>

<p>plangrade implements the <a href="http://oauth.net/2/">OAuth 2.0 standard</a> to facilitate this authorization. Similar to Facebook and Twitter&rsquo;s authentication flow, the user is first presented with a permission dialog for your application, at which point the user can either approve the permissions requested or reject them. Once the user aproves, an <code class="prettyprint">authorization_code</code> is sent to your application which will then be <a href="#finish-authorization">exchanged</a> for an <code class="prettyprint">access_token</code> and a <code class="prettyprint">refresh_token</code> pair.</p>

<p>The <code class="prettyprint">access_token</code> can then be used to make API calls which require user authentication like <a href="#participants">Participants</a> or <a href="#companies">Companies</a>.</p>
<h3 id='token-lifetimes'>Token Lifetimes</h3>
<p><strong>Authorization codes</strong> expire <em>very quickly</em>: 10 minutes.</p>

<p><strong>Access tokens</strong> are <em>short lived</em>: 2 hours.</p>

<p><strong>Refresh tokens</strong> are <em>good forever</em> (or until revoked by the user).</p>

<p>A refresh token can be used to generate a new <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair. You can <a href="#refresh-authorization">refresh your authorization</a> to regain active access to a user&rsquo;s account but so long as you store the <code class="prettyprint">refresh_token</code> you can maintain authorization indefinitely without requiring the user to re-authorize.</p>
<h2 id='request-authorization'>Request Authorization</h2>
<blockquote>
<p>Request authorization with a properly generated link</p>
</blockquote>
<pre><code class="highlight ruby"><span class="c1"># For omniauth-plangrade users, this is trivial</span>
<span class="c1"># Add a link or button to start the authentication</span>
<span class="n">link_to</span> <span class="s2">"Authorize"</span><span class="p">,</span> <span class="s2">"/auth/plangrade"</span>

<span class="c1"># As an alternative, use OAuth2</span>
<span class="n">redirect_uri</span> <span class="o">=</span> <span class="s2">"https://www.myredirect.com/redirect"</span>
<span class="n">client</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">app_id</span><span class="p">,</span> <span class="n">secret</span><span class="p">,</span> <span class="ss">:site</span> <span class="o">=&gt;</span> <span class="s2">"https://plangrade.com"</span><span class="p">)</span>
<span class="vi">@auth_path</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">auth_code</span><span class="p">.</span><span class="nf">authorize_url</span><span class="p">(</span><span class="ss">:redirect_uri</span> <span class="o">=&gt;</span> <span class="n">redirect_uri</span><span class="p">)</span>

<span class="c1"># Then in your corresponding view you can add a link or button</span>
<span class="n">link_to</span> <span class="s2">"Authorize"</span><span class="p">,</span> <span class="vi">@auth_path</span>
</code></pre>

<p>To start the OAuth process, construct the initiation URL which the user will visit in order to grant permission to your application. It describes the permissions your application requires (which grants read/write access to companies, plans, and participants), and who the client application is (your application&rsquo;s name).</p>
<h3 id='url-format'>URL Format</h3>
<p><code class="prettyprint">https://plangrade.com/api/v1/authenticate?client_id={client-id}&amp;response_type=code&amp;redirect_uri={redirect_uri}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Application key</td>
</tr>
<tr>
<td>response_type</td>
<td>This must always be set to <code class="prettyprint">code</code></td>
</tr>
<tr>
<td>redirect_uri</td>
<td>URL where the user will be redirected to afterwards</td>
</tr>
</tbody></table>

<p><aside class="notice">
Remember to url-encode all querystring parameters.
</aside></p>
<h2 id='finish-authorization'>Finish Authorization</h2>
<blockquote>
<p>Once authorized, you need to obtain your <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair.</p>
</blockquote>
<pre><code class="highlight ruby"><span class="c1"># For omniauth-plangrade, just interpret the omniauth response</span>
<span class="n">auth</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">env</span><span class="p">[</span><span class="s2">"omniauth.auth"</span><span class="p">]</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">auth</span><span class="p">[</span><span class="s2">"credentials"</span><span class="p">][</span><span class="s2">"token"</span><span class="p">]</span>
<span class="n">refresh_token</span> <span class="o">=</span> <span class="n">auth</span><span class="p">[</span><span class="s2">"credentials"</span><span class="p">][</span><span class="s2">"refresh_token"</span><span class="p">]</span>

<span class="c1"># Alternatively, you can use OAuth2</span>
<span class="n">client</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">ENV</span><span class="p">[</span><span class="s1">'PLANGRADE_CLIENT_ID'</span><span class="p">,</span> <span class="s1">'PLANGRADE_CLIENT_SECRET'</span><span class="p">,</span> <span class="ss">:site</span> <span class="o">=&gt;</span> <span class="s2">"https://plangrade.com"</span><span class="p">)</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">auth_code</span><span class="p">.</span><span class="nf">get_token</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:code</span><span class="p">],</span> <span class="ss">:redirect_uri</span> <span class="o">=&gt;</span> <span class="n">redirect_uri</span><span class="p">)</span>
</code></pre>

<p>Once the user returns to your application via the <code class="prettyprint">redirect_uri</code> you specified, there will be a <code class="prettyprint">code</code> querystring parameter appended to that URL. Exchange the authorization <code class="prettyprint">code</code> for an <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://plangrade.com/oauth/v1/token</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Application key</td>
</tr>
<tr>
<td>client_secret</td>
<td>Application secret</td>
</tr>
<tr>
<td>code</td>
<td>The authorization code included in the redirect URL</td>
</tr>
<tr>
<td>grant_type</td>
<td>This must be se to <code class="prettyprint">authorization_code</code></td>
</tr>
<tr>
<td>redirect_uri</td>
<td>The same redirect_uri specified in the initiation step</td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>A new access token with requested scopes</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds. Default is 7200</td>
</tr>
<tr>
<td>refresh_token</td>
<td>New refresh token</td>
</tr>
<tr>
<td>token_type</td>
<td>Always <code class="prettyprint">bearer</code></td>
</tr>
</tbody></table>
<h2 id='refresh-authorization'>Refresh Authorization</h2>
<blockquote>
<p>You can refresh the token in a ruby environment with the second gem available: <a href="https://github.com/topherreynoso/plangrade-ruby">plangrade-ruby</a>. See the plangrade-ruby website for setup instructions.</p>
</blockquote>
<pre><code class="highlight ruby"><span class="c1"># The example below demonstrates using the plangrade-ruby gem</span>
<span class="c1"># Create a plangrade oauth client and refresh the token</span>
<span class="n">client</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="o">::</span><span class="no">OAuth2Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">ENV</span><span class="p">[</span><span class="s1">'PLANGRADE_CLIENT_ID'</span><span class="p">],</span> <span class="no">ENV</span><span class="p">[</span><span class="s1">'PLANGRADE_CLIENT_SECRET'</span><span class="p">])</span>
<span class="n">token_pair</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span> <span class="n">client</span><span class="p">.</span><span class="nf">refresh!</span><span class="p">(</span><span class="n">saved_refresh_token</span><span class="p">).</span><span class="nf">body</span>
<span class="n">new_token</span> <span class="o">=</span> <span class="n">token_pair</span><span class="p">[</span><span class="s2">"access_token"</span><span class="p">]</span>
<span class="n">new_refresh_token</span> <span class="o">=</span> <span class="n">token_pair</span><span class="p">[</span><span class="s2">"refresh_token"</span><span class="p">]</span>

<span class="c1"># Alternatively, if you used the OAuth2 client, call this on your token pair</span>
<span class="n">new_token_pair</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span> <span class="n">token_pair</span><span class="p">.</span><span class="nf">refresh!</span><span class="p">.</span><span class="nf">body</span>
<span class="n">new_token</span> <span class="o">=</span> <span class="n">token_pair</span><span class="p">[</span><span class="s2">"access_token"</span><span class="p">]</span>
<span class="n">new_refresh_token</span> <span class="o">=</span> <span class="n">token_pair</span><span class="p">[</span><span class="s2">"refresh_token"</span><span class="p">]</span>
</code></pre>

<p>Use a valid <code class="prettyprint">refresh_token</code> to generate a new <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://plangrade.com/oauth/v1/token</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Application key</td>
</tr>
<tr>
<td>client_secret</td>
<td>Application secret</td>
</tr>
<tr>
<td>refresh_token</td>
<td>A valid refresh token</td>
</tr>
<tr>
<td>grant_type</td>
<td>This must be set to <code class="prettyprint">refresh_token</code></td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>A new access token with requested scopes</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds. Default is 7200</td>
</tr>
<tr>
<td>refresh_token</td>
<td>New refresh token</td>
</tr>
<tr>
<td>token_type</td>
<td>Always  <code class="prettyprint">bearer</code></td>
</tr>
</tbody></table>
<h1 id='users'>Users</h1>
<blockquote>
<p>In ruby environments, we recommend using the <a href="https://github.com/topherreynoso/plangrade-ruby">plangrade-ruby</a> gem. See the plangrade-ruby website for setup instructions.</p>
</blockquote>
<h3 id='attributes'>Attributes</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Optional?</th>
<th>Read Only?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>Integer</td>
<td>No</td>
<td>Yes</td>
<td>User&rsquo;s plangrade ID</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>User&rsquo;s name</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>User&rsquo;s email address</td>
</tr>
</tbody></table>
<h2 id='current-user-information'>Current User Information</h2><pre><code class="highlight ruby"><span class="c1"># Retrieve the user's information</span>
<span class="vi">@user</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">current_user</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive either a response similar to this one or a list of errors:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Compliance Man"</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"compliance@plangrade.com"</span>
<span class="p">}</span>
</code></pre>

<p>Retrieve the current authorized user&rsquo;s information.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://plangrade.com/api/v1/me</code></p>
<h2 id='create-new-user-account'>Create New User Account</h2><pre><code class="highlight ruby"><span class="c1"># Create a new user account with `name` and `email`</span>
<span class="n">new_user</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">create_user</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive either a response like this one or a list of errors:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">}</span>
</code></pre>

<p>Create a new user account with a <code class="prettyprint">name</code> and valid <code class="prettyprint">email</code> address.</p>

<p><aside class="success">
This endpoint does not require an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://plangrade.com/api/v1/users</code></p>
<h2 id='update-user-account-info'>Update User Account Info</h2><pre><code class="highlight ruby"><span class="c1"># Update account information (only for the authorized user)</span>
<span class="n">updated_user</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">update_user</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive either a response similar to this one or a list of errors:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Compliance Man"</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"compliance@plangrade.com"</span>
<span class="p">}</span>
</code></pre>

<p>Update an authorized user&rsquo;s account information (must include <code class="prettyprint">name</code> and <code class="prettyprint">email</code>).</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">PUT https://plangrade.com/api/v1/users/{id}</code></p>
<h2 id='delete-user-account'>Delete User Account</h2><pre><code class="highlight ruby"><span class="c1"># Delete a user account (authorized user only)</span>
<span class="no">Plangrade</span><span class="p">.</span><span class="nf">delete_user</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll recieve a &ldquo;204 No Content&rdquo; response.</p>
</blockquote>

<p>Delete the authenticated user&rsquo;s plangrade account.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">DELETE https://plangrade.com/api/v1/users/{id}</code></p>

<p><aside class="warning">
Deleting a user will result in deleting all of its associations with any companies as well. While the companies will not be affected, you should ensure that there is at least one other manager still associated with the company or else only plangrade administrators will have access to it. Deleted users cannot be restored.
</aside></p>
<h1 id='companies'>Companies</h1>
<blockquote>
<p>In ruby environments, we recommend using the <a href="https://github.com/topherreynoso/plangrade-ruby">plangrade-ruby</a> gem. See the plangrade-ruby website for setup instructions.</p>
</blockquote>
<h3 id='attributes'>Attributes</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Optional?</th>
<th>Read Only?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>Integer</td>
<td>No</td>
<td>Yes</td>
<td>Company&rsquo;s plangrade ID</td>
</tr>
<tr>
<td><code class="prettyprint">ein</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Company&rsquo;s Employer Identification Number (numbers only)</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Company&rsquo;s name</td>
</tr>
<tr>
<td><code class="prettyprint">grade</code></td>
<td>String</td>
<td>Yes</td>
<td>Yes</td>
<td>Company&rsquo;s compliance letter grade, ranging from A+ to F</td>
</tr>
</tbody></table>
<h2 id='create-new-company'>Create New Company</h2><pre><code class="highlight ruby"><span class="c1"># Create a new company</span>
<span class="n">company_id</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">create_company</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive either this response or a list of errors:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">}</span>
</code></pre>

<p>Create a new company with a <code class="prettyprint">name</code> and <code class="prettyprint">ein</code> for the authorized user to manage.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://plangrade.com/api/v1/companies</code></p>
<h2 id='get-company-info'>Get Company Info</h2><pre><code class="highlight ruby"><span class="c1"># Fetch company information for an authorized user</span>
<span class="n">company</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">get_company</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"ein"</span> <span class="o">=&gt;</span> <span class="s2">"123456789"</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"plangrade"</span>
  <span class="s2">"grade"</span> <span class="o">=&gt;</span> <span class="s2">"A+"</span>
<span class="p">}</span>
</code></pre>

<p>Retrieve information about an authorized user&rsquo;s company.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://plangrade.com/api/v1/companies/{id}</code></p>
<h2 id='get-all-companies'>Get All Companies</h2><pre><code class="highlight ruby"><span class="c1"># Fetch all companies associated with the authorized user</span>
<span class="n">companies</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">all_companies</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"ein"</span> <span class="o">=&gt;</span> <span class="s2">"123456789"</span>
    <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"plangrade"</span>
    <span class="s2">"grade"</span> <span class="o">=&gt;</span> <span class="s2">"A+"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">2</span>
    <span class="s2">"ein"</span> <span class="o">=&gt;</span> <span class="s2">"123456788"</span>
    <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"plangrade, LLC"</span>
    <span class="s2">"grade"</span> <span class="o">=&gt;</span> <span class="s2">"A"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">3</span>
    <span class="s2">"ein"</span> <span class="o">=&gt;</span> <span class="s2">"123456787"</span>
    <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"plangrade, Inc."</span>
    <span class="s2">"grade"</span> <span class="o">=&gt;</span> <span class="s2">"A+"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Retrieve information about all of the authorized user&rsquo;s companies.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://plangrade.com/api/v1/companies</code></p>
<h2 id='update-company-info'>Update Company Info</h2><pre><code class="highlight ruby"><span class="c1"># Update company information for an authorized user</span>
<span class="n">updated_company</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">update_company</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive either this response or a list of errors:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"ein"</span> <span class="o">=&gt;</span> <span class="s2">"123456789"</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"plangrade, LLC"</span>
  <span class="s2">"grade"</span> <span class="o">=&gt;</span> <span class="s2">"A+"</span>
<span class="p">}</span>
</code></pre>

<p>Update an authorized user&rsquo;s company information (must include <code class="prettyprint">name</code> and <code class="prettyprint">ein</code>).</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">PUT https://plangrade.com/api/v1/companies/{id}</code></p>
<h2 id='delete-company'>Delete Company</h2><pre><code class="highlight ruby"><span class="c1"># Delete an authorized user's company</span>
<span class="no">Plangrade</span><span class="p">.</span><span class="nf">delete_company</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll recieve a &ldquo;204 No Content&rdquo; response.</p>
</blockquote>

<p>Delete one of the authenticated user&rsquo;s companies.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">DELETE https://plangrade.com/api/v1/companies/{id}</code></p>

<p><aside class="warning">
Deleting a company will result in deleting all of its information as well. This includes plans, participants, documents, its history and any distributions. This action cannot be reversed.
</aside></p>
<h1 id='participants'>Participants</h1>
<blockquote>
<p>In ruby environments, we recommend using the <a href="https://github.com/topherreynoso/plangrade-ruby">plangrade-ruby</a> gem. See the plangrade-ruby website for setup instructions.</p>
</blockquote>
<h3 id='attributes'>Attributes</h3>
<table><thead>
<tr>
<th>&nbsp;&nbsp;&nbsp;Parameter&nbsp;&nbsp;&nbsp;</th>
<th>Type</th>
<th>Optional?</th>
<th>Read Only?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>Integer</td>
<td>No</td>
<td>Yes</td>
<td>Participant&rsquo;s plangrade ID</td>
</tr>
<tr>
<td><code class="prettyprint">company_id</code></td>
<td>Integer</td>
<td>No</td>
<td>Yes</td>
<td>Plangrade ID of the company the participant is associated with</td>
</tr>
<tr>
<td><code class="prettyprint">employee_id</code></td>
<td>Integer</td>
<td>No</td>
<td>No</td>
<td>Plangrade ID of the employee the participant is associated with; if the <code class="prettyprint">id</code> and <code class="prettyprint">employee_id</code> are equivalent it signifies that the participant is an employee, otherwise the participant is a dependent</td>
</tr>
<tr>
<td><code class="prettyprint">first_name</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Participant&rsquo;s first name</td>
</tr>
<tr>
<td><code class="prettyprint">last_name</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Participant&rsquo;s last name</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>String</td>
<td>Yes</td>
<td>No</td>
<td>Participant&rsquo;s email address</td>
</tr>
<tr>
<td><code class="prettyprint">phone</code></td>
<td>Integer</td>
<td>Yes</td>
<td>No</td>
<td>Participant&rsquo;s SMS enabled phone number (10 numbers only)</td>
</tr>
<tr>
<td><code class="prettyprint">street1</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>The first line of the participant&rsquo;s address</td>
</tr>
<tr>
<td><code class="prettyprint">street2</code></td>
<td>String</td>
<td>Yes</td>
<td>No</td>
<td>The second line of the participant&rsquo;s address</td>
</tr>
<tr>
<td><code class="prettyprint">city</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>The city of the participant&rsquo;s address</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>The state of the participant&rsquo;s address</td>
</tr>
<tr>
<td><code class="prettyprint">zip</code></td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>The zip code of the participant&rsquo;s address (5 numbers only)</td>
</tr>
<tr>
<td><code class="prettyprint">dob</code></td>
<td>Date</td>
<td>No</td>
<td>No</td>
<td>Participant&rsquo;s date of birth</td>
</tr>
<tr>
<td><code class="prettyprint">ssn</code></td>
<td>String</td>
<td>See below</td>
<td>Yes</td>
<td>The last four digits of the participant&rsquo;s Social Security Number; while this is required in order to create a new participant, it is not visible in any other endpoint</td>
</tr>
</tbody></table>
<h2 id='create-new-participant'>Create New Participant</h2><pre><code class="highlight ruby"><span class="c1"># Create a new participant</span>
<span class="n">participant_id</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">create_participant</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive either this response or a list of errors:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">}</span>
</code></pre>

<p>Create a new participant with a <code class="prettyprint">company_id</code>, <code class="prettyprint">first_name</code>, <code class="prettyprint">last_name</code>, <code class="prettyprint">street1</code>, <code class="prettyprint">city</code>, <code class="prettyprint">state</code>, <code class="prettyprint">zip</code>, and <code class="prettyprint">dob</code>.</p>
<h3 id='employee-participants'>Employee Participants</h3>
<p>When adding an employee, you must include the last four of their <code class="prettyprint">ssn</code> and an <code class="prettyprint">employee_id</code> with a value of <code class="prettyprint">0</code> (plangrade will detect that the record is that of an employee and add the employee&rsquo;s own <code class="prettyprint">id</code> to the <code class="prettyprint">employee_id</code> field after the record is created).</p>
<h3 id='dependent-participants'>Dependent Participants</h3>
<p>The last four of their <code class="prettyprint">ssn</code> is optional for a dependent, however an <code class="prettyprint">employee_id</code> is necessary. As such, employees must have a participant record created before their dependents.</p>
<h3 id='optional'>Optional</h3>
<p>You may optionally include a valid <code class="prettyprint">email</code> address and/or an SMS enabled <code class="prettyprint">phone</code> number (10 numbers only). This enables plangrade to send the participant electronic authorizations and notices. Additionally, a <code class="prettyprint">street2</code> may be included, if necessary.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://plangrade.com/api/v1/participants</code></p>
<h2 id='get-participant-info'>Get Participant Info</h2><pre><code class="highlight ruby"><span class="c1"># Fetch a participant's information</span>
<span class="n">participant</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">get_participant</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"company_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"employee_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Comply"</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Ants"</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"compliance@plangrade.com"</span>
  <span class="s2">"phone"</span> <span class="o">=&gt;</span> <span class="s2">"1234567890"</span>
  <span class="s2">"street1"</span> <span class="o">=&gt;</span> <span class="s2">"1234 Fake St."</span>
  <span class="s2">"street2"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
  <span class="s2">"city"</span> <span class="o">=&gt;</span> <span class="s2">"Orem"</span>
  <span class="s2">"state"</span> <span class="o">=&gt;</span> <span class="s2">"UT"</span>
  <span class="s2">"zip"</span> <span class="o">=&gt;</span> <span class="s2">"84606"</span>
  <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"1984-12-30"</span>
<span class="p">}</span>
</code></pre>

<p>Retrieve information about a participant.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://plangrade.com/api/v1/participants/{id}</code></p>
<h2 id='get-all-company39s-participants'>Get All Company&rsquo;s Participants</h2><pre><code class="highlight ruby"><span class="c1"># Fetch all participants associated with a company</span>
<span class="n">participants</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">all_participants</span><span class="p">(</span><span class="ss">:company_id</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"company_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"employee_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Comply"</span>
    <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Ants"</span>
    <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"compliance@plangrade.com"</span>
    <span class="s2">"phone"</span> <span class="o">=&gt;</span> <span class="s2">"1234567890"</span>
    <span class="s2">"street1"</span> <span class="o">=&gt;</span> <span class="s2">"1234 Fake St."</span>
    <span class="s2">"street2"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
    <span class="s2">"city"</span> <span class="o">=&gt;</span> <span class="s2">"Orem"</span>
    <span class="s2">"state"</span> <span class="o">=&gt;</span> <span class="s2">"UT"</span>
    <span class="s2">"zip"</span> <span class="o">=&gt;</span> <span class="s2">"84606"</span>
    <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"1984-12-30"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">2</span>
    <span class="s2">"company_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"employee_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Fire"</span>
    <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Ants"</span>
    <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"support@plangrade.com"</span>
    <span class="s2">"phone"</span> <span class="o">=&gt;</span> <span class="s2">"1234567891"</span>
    <span class="s2">"street1"</span> <span class="o">=&gt;</span> <span class="s2">"1234 Fake St."</span>
    <span class="s2">"street2"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
    <span class="s2">"city"</span> <span class="o">=&gt;</span> <span class="s2">"Orem"</span>
    <span class="s2">"state"</span> <span class="o">=&gt;</span> <span class="s2">"UT"</span>
    <span class="s2">"zip"</span> <span class="o">=&gt;</span> <span class="s2">"84606"</span>
    <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"1986-04-18"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">3</span>
    <span class="s2">"company_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"employee_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Red"</span>
    <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Ants"</span>
    <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
    <span class="s2">"phone"</span> <span class="o">=&gt;</span> <span class="s2">"1234567892"</span>
    <span class="s2">"street1"</span> <span class="o">=&gt;</span> <span class="s2">"1234 Fake St."</span>
    <span class="s2">"street2"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
    <span class="s2">"city"</span> <span class="o">=&gt;</span> <span class="s2">"Orem"</span>
    <span class="s2">"state"</span> <span class="o">=&gt;</span> <span class="s2">"UT"</span>
    <span class="s2">"zip"</span> <span class="o">=&gt;</span> <span class="s2">"84606"</span>
    <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"2006-11-22"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Retrieve information about all of the participants in an authorized user&rsquo;s company.</p>
<h3 id='mandatory'>Mandatory</h3>
<p>You must include a <code class="prettyprint">company_id</code> parameter in order to allow plangrade to identify which company you want to query and to verify that the authorized user has access to this company.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://plangrade.com/api/v1/participants?company_id={id}</code></p>
<h2 id='update-participant-info'>Update Participant Info</h2><pre><code class="highlight ruby"><span class="c1"># Update participant information</span>
<span class="n">updated_participant</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">update_participant</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive either a response like this one or a list of errors:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"company_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"employee_id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Comp"</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Lance"</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"compliance@plangrade.com"</span>
  <span class="s2">"phone"</span> <span class="o">=&gt;</span> <span class="s2">"1234567890"</span>
  <span class="s2">"street1"</span> <span class="o">=&gt;</span> <span class="s2">"1234 Fake St."</span>
  <span class="s2">"street2"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
  <span class="s2">"city"</span> <span class="o">=&gt;</span> <span class="s2">"Orem"</span>
  <span class="s2">"state"</span> <span class="o">=&gt;</span> <span class="s2">"UT"</span>
  <span class="s2">"zip"</span> <span class="o">=&gt;</span> <span class="s2">"84606"</span>
  <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"1984-12-30"</span>
<span class="p">}</span>
</code></pre>

<p>Update a participant&rsquo;s information. You must include an <code class="prettyprint">employee_id</code> for every participant update request, even if the <code class="prettyprint">employee_id</code> is not changing.</p>
<h3 id='employees'>Employees</h3>
<p>Remember to make the <code class="prettyprint">employee_id</code> equivalent to the participant&rsquo;s <code class="prettyprint">id</code>.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">PUT https://plangrade.com/api/v1/participants/{id}</code></p>
<h2 id='archive-participant'>Archive Participant</h2><pre><code class="highlight ruby"><span class="n">archived_participant_id</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">archive_participant</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive either a response like this one or a list of errors:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">}</span>
</code></pre>

<p>Non-destructively archive a participant from one of the authorized user&rsquo;s companies.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://plangrade.com/api/v1/participants/archive</code></p>

<p><aside class="warning">
Archiving a participant will remove the participant and any dependents from regular reports and distributions. The participant and their dependents (if applicable) will still be accessible through the archive along with their history of authorizations, distributions, and notices. This action can be reversed.
</aside></p>
<h2 id='delete-participant'>Delete Participant</h2><pre><code class="highlight ruby"><span class="c1"># Delete a company's participant</span>
<span class="no">Plangrade</span><span class="p">.</span><span class="nf">delete_participant</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll recieve a &ldquo;204 No Content&rdquo; response.</p>
</blockquote>

<p>Delete a participant from one of the authorized user&rsquo;s companies.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">DELETE https://plangrade.com/api/v1/participants/{id}</code></p>

<p><aside class="warning">
Deleting a participant will result in deleting all of their information as well as any associated dependents. Make sure that you actually want to delete and not just archive the participant. This includes deleting any distributions, history, and documents specific to this participant and all of the same information associated with any dependents. This action cannot be reversed.
</aside></p>
<h1 id='activities'>Activities</h1>
<blockquote>
<p>In ruby environments, we recommend using the <a href="https://github.com/topherreynoso/plangrade-ruby">plangrade-ruby</a> gem. See the plangrade-ruby website for setup instructions.</p>
</blockquote>
<h3 id='attributes'>Attributes</h3>
<table><thead>
<tr>
<th>&nbsp;&nbsp;&nbsp;Parameter&nbsp;&nbsp;&nbsp;</th>
<th>Type</th>
<th>Optional?</th>
<th>Read Only?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>Integer</td>
<td>No</td>
<td>Yes</td>
<td>Activity&rsquo;s plangrade ID</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Name of the activity</td>
</tr>
<tr>
<td><code class="prettyprint">start_time</code></td>
<td>DateTime</td>
<td>No</td>
<td>Yes</td>
<td>Date and time that the activity is scheduled to occur</td>
</tr>
</tbody></table>
<h2 id='get-all-company39s-activities'>Get All Company&rsquo;s Activities</h2><pre><code class="highlight ruby"><span class="c1"># Fetch all activities associated with a company</span>
<span class="n">activities</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">all_activities</span><span class="p">(</span><span class="ss">:company_id</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Distribute Summary Plan Description"</span>
    <span class="s2">"start_time"</span> <span class="o">=&gt;</span> <span class="s2">"1984-12-30"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">2</span>
    <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Distribute Open Enrollment"</span>
    <span class="s2">"start_time"</span> <span class="o">=&gt;</span> <span class="s2">"1986-04-18"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">3</span>
    <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Distribute Creditable Coverage"</span>
    <span class="s2">"start_time"</span> <span class="o">=&gt;</span> <span class="s2">"2006-11-22"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Retrieve information about all of the activities in an authorized user&rsquo;s company.</p>
<h3 id='mandatory'>Mandatory</h3>
<p>You must include a <code class="prettyprint">company_id</code> parameter in order to allow plangrade to identify which company you want to query and to verify that the authorized user has access to this company.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://plangrade.com/api/v1/activities?company_id={id}</code></p>
<h1 id='notices'>Notices</h1>
<blockquote>
<p>In ruby environments, we recommend using the <a href="https://github.com/topherreynoso/plangrade-ruby">plangrade-ruby</a> gem. See the plangrade-ruby website for setup instructions.</p>
</blockquote>
<h3 id='attributes'>Attributes</h3>
<table><thead>
<tr>
<th>&nbsp;&nbsp;&nbsp;Parameter&nbsp;&nbsp;&nbsp;</th>
<th>Type</th>
<th>Optional?</th>
<th>Read Only?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>Integer</td>
<td>No</td>
<td>Yes</td>
<td>Notice&rsquo;s plangrade ID</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Name of the notice</td>
</tr>
<tr>
<td><code class="prettyprint">plan_name</code></td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Name of the plan associated with this notice</td>
</tr>
<tr>
<td><code class="prettyprint">link</code></td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>URL for the PDF associated with this notice</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>DateTime</td>
<td>No</td>
<td>Yes</td>
<td>Date and time that the notice&rsquo;s latest version was created</td>
</tr>
</tbody></table>
<h2 id='get-all-company39s-notices'>Get All Company&rsquo;s Notices</h2><pre><code class="highlight ruby"><span class="c1"># Fetch all notices associated with a company</span>
<span class="n">notices</span> <span class="o">=</span> <span class="no">Plangrade</span><span class="p">.</span><span class="nf">all_notices</span><span class="p">(</span><span class="ss">:company_id</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre><code class="highlight ruby"><span class="p">{</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Summary Plan Description"</span>
    <span class="s2">"plan_name"</span> <span class="o">=&gt;</span> <span class="s2">"ABC Corp Health and Welfare Benefits Plan"</span>
    <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"https://plangrade.com/iterations/1234.pdf"</span>
    <span class="s2">"created_at"</span> <span class="o">=&gt;</span> <span class="s2">"1984-12-30"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">2</span>
    <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Plan Documents"</span>
    <span class="s2">"plan_name"</span> <span class="o">=&gt;</span> <span class="s2">"ABC Corp Health and Welfare Benefits Plan"</span>
    <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"https://plangrade.com/iterations/2345.pdf"</span>
    <span class="s2">"created_at"</span> <span class="o">=&gt;</span> <span class="s2">"1984-12-30"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span> <span class="o">=&gt;</span> <span class="mi">3</span>
    <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Hiring Notice"</span>
    <span class="s2">"plan_name"</span> <span class="o">=&gt;</span> <span class="s2">"ABC Corp Health and Welfare Benefits Plan"</span>
    <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"https://plangrade.com/iterations/3456.pdf"</span>
    <span class="s2">"created_at"</span> <span class="o">=&gt;</span> <span class="s2">"1984-12-30"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Retrieve information about all of the notices in an authorized user&rsquo;s company.</p>
<h3 id='mandatory'>Mandatory</h3>
<p>You must include a <code class="prettyprint">company_id</code> parameter in order to allow plangrade to identify which company you want to query and to verify that the authorized user has access to this company.</p>

<p><aside class="notice">
This endpoint requires an OAuth access token.
</aside></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://plangrade.com/api/v1/notices?company_id={id}</code></p>

          <h1 id='errors'>Errors</h1>
<p>The plangrade API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request was not properly structured</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You do not have authorization access the requested resource</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a resource with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The resource requested has been removed from our servers</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many resources! Slown down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
